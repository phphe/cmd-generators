var e=Object.defineProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,a=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&r(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&r(e,s,a[s]);return e};import{_ as s,a as n,s as i}from"./index.953f4fb9.js";import{j as u,x as c,l as d,n as m,F as p,p as f,A as h,u as g,z as y,t as v,q as b,s as k,G as x,H as w,w as _,O as $,P as C,Q as V,R as T,S as O,B as L,k as A,e as H,f as M,U as S,i as B,V as N,W as G,y as j}from"./vendor.4877b27b.js";var U=u({name:"CmdGeneratorArticleContent",props:{node:{},store:{}},computed:{resolvedNode(){const{tagName:e,html:t}=this.node,l=t.trim().match(new RegExp(`^<${e}(.*?)>(.*?)</${e}>$`,"s")),o=l[2];let r=l[1].trim().match(/\b\S+?\b(=".*?")?/g);const a={};if(r)for(const s of r){const e=s.split("=").shift();let t=s.substring(e.length+1)||"";t=t.substring(1,t.length-1),a[e]=t}return{innerHTML:o,attrs:a}}}});const F={key:2};U.render=function(e,t,l,o,r,a){const s=c("CmdGeneratorArticleContent",!0);return e.node.isParent?(d(),m(p,{key:0},[e.node.depth>1?(d(),m(p,{key:0},[f("a",{name:e.node.slug},null,8,["name"]),(d(),m(h("h"+e.node.depth),null,{default:g((()=>[y(v(e.node.text),1)])),_:1}))],64)):b("",!0),e.node.children?(d(!0),m(p,{key:1},k(e.node.children,(t=>(d(),m(s,{node:t,store:e.node.store||e.store},null,8,["node","store"])))),256)):b("",!0),1===e.node.depth?(d(),m("strong",F,"Result")):b("",!0)],64)):e.node.isJSON?(d(),m(p,{key:1},[],64)):(d(),m(h(e.node.tagName),x({key:2},e.resolvedNode.attrs,{innerHTML:e.resolvedNode.innerHTML}),null,16,["innerHTML"]))};var R=u({components:{Icon:s},props:{size:{type:Number,default:20}}});R.render=function(e,t,l,o,r,a){const s=c("Icon"),n=c("Tooltip");return d(),m(n,{class:"inline-block"},{text:g((()=>[w(e.$slots,"default")])),default:g((()=>[f(s,{class:"cursor-default text-gray-500 hover:text-gray-700",name:"help_outline",size:e.size},null,8,["size"])])),_:1})};var I=u({props:{value:{},modelValue:{},nullable:{type:Boolean,default:!0}},data:()=>({}),computed:{localValue:{get(){return this.modelValue===this.value},set(e){e?this.$emit("update:modelValue",this.value):this.nullable?this.$emit("update:modelValue",null):this.$el.checked=!0}}}});I.render=function(e,t,l,o,r,a){return _((d(),m("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=t=>e.localValue=t)},null,512)),[[$,e.localValue]])};var P=u({name:"FormBlock",components:{HelpIcon:R,RadioBase:I},props:{form:{type:Object},hideLabel:{type:Boolean},isGroupLast:{type:Boolean},multiIndex:{type:Number}},data:()=>({id:"",inputClass:"rounded-md bg-gray-100 border-transparent focus:border-primary-500 focus:bg-white focus:ring-0"}),computed:{style(){var e;const t={};return(null==(e=this.form)?void 0:e.width)&&(t.width=`${this.form.width}px`),t},cptOptions(){const e=[...this.form.options];return this.form.nullable&&e.unshift({value:null,text:"None"}),e}},watch:{"form.name":{immediate:!0,handler(e){let t=e?e.replace(/\s+/,"_")+`_${C()}`:"";this.id=t}}},created(){this.initForm(),this.$watch((()=>this.form),this.initForm)},mounted(){},methods:{initForm(){"group"===this.form.type&&this.form.multiple&&!this.form._children&&(this.form._children=[this.form.children]),"select"===this.form.type&&this.form.nullable&&void 0===this.form.value&&(this.form.value=null),null==this.form.value&&(this.form.multiple?this.form.value=[this.defaultValue()]:"checkbox"===this.form.type?this.form.options&&(this.form.value=[]):this.form.value=this.defaultValue())},groupAdd(){const e=JSON.parse(JSON.stringify(this.form.children));for(const t of e)t.value=null;this.form._children.push(e)},groupReduce(e){this.form._children.splice(e,1)},defaultValue(){const{defaultValue:e}=this.form;return null==e?null:"function"==typeof e?e():e},checkRadioGroup(e,t,l){const{radioGroup:o}=t;if(null!=o&&e.target.checked){const e=new Set(l.value);let r=!1;for(const a of l.options)a.radioGroup===o&&a!==t&&e.has(a.value)&&(e.delete(a.value),r=!0);r&&(l.value=Array.from(e))}}}});const z={key:0},J={key:1,class:"cmd-generator-form-block-group inline-block"},E={class:"mr-2 mb-2 inline-block align-top"},q={key:0,class:"block py-2"},W={key:0,class:"block text-gray-600 py-2"},D={key:1},Q={class:"flex-grow"},K={value:""},X={class:"ml-1 align-middle"},Y={class:"align-middle"},Z={class:"ml-1 align-middle"},ee={class:"align-middle"};P.render=function(e,t,l,o,r,a){const s=c("FormBlock"),n=c("Icon"),i=c("Btn"),u=c("HelpIcon"),h=c("RadioBase");return d(),m(p,null,[e.form.breakLine?(d(),m("br",z)):b("",!0),"group"===e.form.type?(d(),m("div",J,[e.form.multiple?(d(!0),m(p,{key:0},k(e.form._children,((t,l)=>(d(),m("div",{key:l},[(d(!0),m(p,null,k(t,((e,t)=>(d(),m(s,{form:e,hideLabel:l>0},null,8,["form","hideLabel"])))),256)),f("div",E,[0===l?(d(),m("label",q,"Â ")):b("",!0),f(i,{class:"cgform-control",paddingClass:"px-2",onClick:t=>0===l?e.groupAdd():e.groupReduce(l)},{default:g((()=>[f(n,{name:0===l?"add":"remove"},null,8,["name"])])),_:2},1032,["onClick"])])])))),128)):(d(!0),m(p,{key:1},k(e.form.children,(e=>(d(),m(s,{form:e},null,8,["form"])))),256))])):(d(),m("div",{key:2,class:"cmd-generator-form-block mr-2 mb-2 inline-block w-60 align-top max-w-full",style:e.style},[e.hideLabel?b("",!0):(d(),m("span",W,[f("label",{for:e.id},v(e.form.name),9,["for"]),e.form.help?(d(),m(u,{key:0,class:"ml-1"},{default:g((()=>[f("div",{innerHTML:e.form.help},null,8,["innerHTML"])])),_:1})):b("",!0)])),e.form.multiple?(d(),m("div",D,[(d(!0),m(p,null,k(e.form.value,((t,l)=>(d(),m("div",{class:["flex",{"mt-2":l>0}],key:l},[f("div",Q,[_(f("input",x({class:["w-full cgform-control",e.inputClass],id:0===l?e.id:null},e.form.controlAttrs,{type:"string"===e.form.type?"text":"number","onUpdate:modelValue":t=>e.form.value[l]=t}),null,16,["id","type","onUpdate:modelValue"]),[[V,e.form.value[l]]])]),f(i,{class:"flex-shrink ml-2 cgform-control",paddingClass:"px-2",onClick:t=>0===l?e.form.value.push(e.defaultValue()):e.form.value.splice(l,1)},{default:g((()=>[f(n,{name:0===l?"add":"remove"},null,8,["name"])])),_:2},1032,["onClick"])],2)))),128))])):"string"===e.form.type||"number"===e.form.type?_((d(),m("input",x({key:2,class:["w-full cgform-control",e.inputClass],id:e.id},e.form.controlAttrs,{type:"string"===e.form.type?"text":"number","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.value=t)}),null,16,["id","type"])),[[V,e.form.value]]):"select"===e.form.type?_((d(),m("select",x({key:3,class:["w-full cgform-control",e.inputClass],id:e.id},e.form.controlAttrs,{"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.value=t)}),[f("option",K,v(e.$t("Please_select")),1),(d(!0),m(p,null,k(e.cptOptions,(e=>(d(),m("option",{value:e.value},v(e.text),9,["value"])))),256))],16,["id"])),[[T,e.form.value]]):"radio"===e.form.type?(d(!0),m(p,{key:4},k(e.cptOptions,((l,o)=>(d(),m("span",{class:{"mr-2":!e.form.vertical&&o<e.cptOptions.length-1,flex:e.form.vertical,"whitespace-nowrap":e.form.nowrap,"leading-10":e.form.oneLine}},[f("label",null,[f(h,{class:"align-center rounded-full border-gray-300 text-primary-500 shadow-sm focus:border-primary-300 focus:ring focus:ring-offset-0 focus:ring-primary-200 focus:ring-opacity-50",value:l.value,modelValue:e.form.value,"onUpdate:modelValue":t[3]||(t[3]=t=>e.form.value=t)},null,8,["value","modelValue"]),f("span",X,v(l.text),1)]),f("span",Y,[l.help?(d(),m(u,{key:0,class:"ml-1"},{default:g((()=>[f("div",{innerHTML:l.help},null,8,["innerHTML"])])),_:2},1024)):b("",!0)])],2)))),256)):"checkbox"===e.form.type?(d(),m(p,{key:5},[e.form.options?(d(!0),m(p,{key:0},k(e.cptOptions,((l,o)=>(d(),m("span",{class:{"mr-2":!e.form.vertical&&o<e.cptOptions.length-1,flex:e.form.vertical,"whitespace-nowrap":e.form.nowrap,"leading-10":e.form.oneLine}},[f("label",null,[_(f("input",{class:"rounded border-gray-300 text-primary-500 shadow-sm focus:border-primary-300 focus:ring focus:ring-offset-0 focus:ring-primary-200 focus:ring-opacity-50",type:"checkbox",value:l.value,"onUpdate:modelValue":t[4]||(t[4]=t=>e.form.value=t),onChange:t=>e.checkRadioGroup(t,l,e.form)},null,40,["value","onChange"]),[[$,e.form.value]]),f("span",Z,v(l.text),1)]),f("span",ee,[l.help?(d(),m(u,{key:0,class:"ml-1"},{default:g((()=>[f("div",{innerHTML:l.help},null,8,["innerHTML"])])),_:2},1024)):b("",!0)])],2)))),256)):_((d(),m("input",{key:1,class:"rounded border-gray-300 text-primary-500 shadow-sm focus:border-primary-300 focus:ring focus:ring-offset-0 focus:ring-primary-200 focus:ring-opacity-50",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=t=>e.form.value=t)},null,512)),[[$,e.form.value]])],64)):b("",!0)],4))],64)};var te=u({props:{code:{type:String,default:""},copyText:{type:String,default:"Copy"},copiedText:{type:String,default:"Copied"}},data:()=>({copied:!1}),computed:{text(){return this.copied?this.copiedText:this.copyText}},methods:{copy(){O(this.code),this.copied=!0,setTimeout((()=>{this.copied=!1}),800)}}});const le={class:"code-block whitespace-pre-wrap block bg-gray-100 px-4 py-2 rounded-lg relative"};te.render=function(e,t,l,o,r,a){return d(),m("code",le,[f("span",null,"$ "+v(e.code),1),f("button",{class:"px-2 py-1 rounded text-sm bg-gray-400 hover:bg-gray-500 text-white focus:outline-none focus:bg-gray-600 ml-2",type:"button",onClick:t[1]||(t[1]=(...t)=>e.copy&&e.copy(...t))},v(e.text),1)])};var oe=u({extends:te,props:{parts:{type:Array}},data:()=>({animate:!1}),computed:{},methods:{highlight(){this.animate=!1,L((()=>{this.animate=!0,this._tm_animte&&clearTimeout(this._tm_animte),this._tm_animte=setTimeout((()=>{this.animate=!1}),1e3)}))}}});const re={class:"cmd-code-block whitespace-pre-wrap block bg-gray-100 px-4 py-2 rounded-lg relative"},ae={class:"align-middle",key:"0"},se={class:"align-middle",key:"2"};oe.render=function(e,t,l,o,r,a){return d(),m("code",re,[f("span",ae,"$ "+v(e.parts[0]),1),f("span",{class:["align-middle changed-part",{"changed-part--highlight":e.animate}],key:"1"},v(e.parts[1]),3),f("span",se,v(e.parts[2]),1),f("button",{class:"px-2 py-1 rounded text-sm bg-gray-400 hover:bg-gray-500 text-white focus:outline-none focus:bg-gray-600 ml-2",type:"button",onClick:t[1]||(t[1]=(...t)=>e.copy&&e.copy(...t))},v(e.text),1)])};var ne=u({components:{FormBlock:P,CodeBlock:oe},props:{generator:{type:Object},usage:{type:Object}},data:()=>({results:null}),computed:{resultCode(){const{usage:e,generator:t}=this,l=[],o=[],r={};l.push(t.cmd||t.name),e.cmd&&l.push(e.cmd);const a=e=>e.match(/[\s']/)?`"${e}"`:e,s=(e,t)=>{for(const r of e)if("group"===r.type)if(r.multiple)for(let e=0;e<r._children.length;e++){let l=t;r.key&&(t[r.key]||(t[r.key]=[]),l=t[r.key][e]={}),s(r._children[e],l)}else s(r.children,t);else if(null!=r.value&&""!=r.value)if(r.key)t[r.key]=r.value;else if(r.cmd)if(Array.isArray(r.value))for(const e of r.value)null!=e&&""!==e&&(l.push(r.cmd),l.push(a(e)));else"boolean"==typeof r.value?!0===r.value&&l.push(r.cmd):(l.push(r.cmd),l.push(a(r.value)));else{const e=r.isArgument?o:l;if(Array.isArray(r.value))for(const t of r.value)null!=t&&""!==t&&e.push(a(t));else e.push(a(r.value))}};let n;if(s(e.form,r),e.beforeGenerate&&function(e,t){const{global:l,name:o}=function(){let e,t;try{global?(e=global,t="global"):(e=window,t="window")}catch(l){e=window,t="window"}return{global:e,name:t}}();l._executeStringFunctionJS_tmp=t,function(e){Function(`"use strict";return (\n      ${e}\n    )`)()}(`\n      ${e}(${o}._executeStringFunctionJS_tmp)`)}(e.beforeGenerate,{usage:e,keyedValues:r,mainParts:l,theArguments:o,quote:a}),t.diableShortOptionMerge)n=l.slice();else{let e;n=[];const t=t=>{if(e&&e.length>0&&t){const t=e.pop();n.push("-"+t)}e=null};for(const r of l)if("-"===r[0]&&"-"!==r[1])e||(e=[],n.push(e)),e.push(r.substr(1));else{t(!r.startsWith("--")),r.startsWith("\\-")?n.push(r.substr(1)):n.push(r)}t();const o=[];n=n.filter((e=>{if(!Array.isArray(e))return!0;o.push(...e)})),o.length>0&&n.splice(1,0,`-${o.join("")}`)}const i=[],u=this.generator.optionNameValueSeparator,c=this.generator.longOptionNameValueSeparator;return n.forEach(((e,t)=>{if("__NO_VALUE__"===e);else if(t>0&&(e=>!e.match(/^--?[\w-_]+$/))(e)){const t=i.pop(),l=(e=>e.length>2)(t)?c:u;i.push(`${t}${l}${e}`)}else i.push(e)})),[...i,...o].join(" ")}},watch:{resultCode:{immediate:!0,handler(e,t){var l,o;this.results=function(e,t){let l=null,o=0;for(let i=0;i<t.length;i++)if(e[i]!==t[i]){l=i;break}null==l&&(l=t.length);for(let i=0;i<t.length;i++){const r=t.length-1-i,a=e.length-1-i;if(e[a]!==t[r]||a<l||r<l){o=r+1;break}}let r=t.substring(0,l),a=t.substring(l,o),s=t.substring(o),n=a.match(/^\s+/);n&&(r+=n,a=a.substring(n.length));n=a.match(/\s+$/),n&&(s=n+s,a=a.substr(0,a.length-n.length));return[r,a,s]}(t||"",e),null==(o=null==(l=this.$refs)?void 0:l.codeBlock)||o.highlight()}}}});const ie={class:"text-2xl"},ue={class:"mt-3"},ce={class:"mt-2"};ne.render=function(e,t,l,o,r,a){const s=c("CodeBlock"),n=c("FormBlock");return d(),m("div",{class:"cmd-generator-usage",id:e.usage.hash},[f("h2",ie,v(e.usage.name),1),e.usage.description?(d(),m("p",{key:0,class:"mt-2 whitespace-pre-wrap",innerHTML:e.usage.description},null,8,["innerHTML"])):b("",!0),f("form",ue,[f(s,{ref:"codeBlock",code:e.resultCode,copyText:e.$t("Copy"),copiedText:e.$t("Copied"),parts:e.results},null,8,["code","copyText","copiedText","parts"]),f("div",ce,[(d(!0),m(p,null,k(e.usage.form,((e,t)=>(d(),m(n,{key:t,form:e},null,8,["form"])))),128))])])],8,["id"])};var de=u({components:{CmdGeneratorArticleContent:U,Usage:ne},setup(){(()=>{const e=G(),t=A((()=>e.data.item.usages.map((e=>({url:`#${e.hash}`,text:e.name})))));H((()=>{const l=document.querySelector(".main-body"),o=()=>{const o=e.refs.catlog;if(o){const e=N(l),r=N(o);i.tableOfContents.value=t.value,r.y+o.offsetHeight>e.y?i.tableOfContents.visible=!1:i.tableOfContents.visible=!0}};M(l,"scroll",o,{passive:!0}),S((()=>{B(l,"scroll",o,{passive:!0})}))}))})()},data:()=>({item:null,title:""}),watch:{$route:{immediate:!0,async handler(e){var t;if(!(null==(t=e.params)?void 0:t.name))return;const l=(await n.get(`/cmd-generators/${this.$route.params.name}`)).data;for(const o of l.usages)for(const e of o.form)if("group"===e.type&&e.multiple&&!e._children)if(e._children=[],e.value)for(const t of e.value){const l=[];for(let o of e.children)o=a({},o),o.value=t[o.key],l.push(o);e._children.push(l)}else e._children.push(e.children);this.item=l,this.title=`${this.item.name} - ${this.$t("CMD_Generator")}`}}},methods:{}});const me={key:0,class:"cmd-generator-view"},pe={class:"py-5 border-b text-gray-500 text-sm"},fe={class:"article mt-7"},he={class:"article-head"},ge={class:"article-title text-3xl"},ye={class:"ml-2 text-lg text-gray-400"},ve={class:"text-gray-600 mt-5"},be={key:1,class:"list-disc pl-5 mt-3",ref:"catlog"},ke={class:"article-body mt-5 text-gray-600"},xe={class:"article-content text-sm"},we=f("div",{class:"article-foot"},null,-1);de.render=function(e,t,l,o,r,a){const s=c("MetaInfo"),n=c("Usage"),i=j("anchor");return d(),m(p,null,[f(s,{title:e.title},null,8,["title"]),e.item?(d(),m("div",me,[f("div",pe,v(e.$t("cmd_generator_page_top_tip")),1),f("div",fe,[f("div",he,[f("h1",ge,[y(v(e.item.name),1),f("span",ye,v(e.$t("CMD_Generator")),1)]),f("div",ve,[e.item.description?(d(),m("p",{key:0,class:"text-sm",innerHTML:e.item.description},null,8,["innerHTML"])):b("",!0),e.item.usages.length>2?(d(),m("ul",be,[(d(!0),m(p,null,k(e.item.usages,(e=>(d(),m("li",null,[_(f("a",{class:"text-primary-600 hover:text-primary-800",href:"#"+e.hash},v(e.name),9,["href"]),[[i]])])))),256))],512)):b("",!0)])]),f("div",ke,[f("article",xe,[(d(!0),m(p,null,k(e.item.usages,((t,l)=>(d(),m(n,{key:e.item.name+t.name+e.$i18n.locale,usage:t,generator:e.item,class:0===l?"mt-10":"mt-20"},null,8,["usage","generator","class"])))),128))])]),we])])):b("",!0)],64)};export default de;
